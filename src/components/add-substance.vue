<template>
    <a class="home__add-btn btn" href="#" @click.prevent="popup = true;">
        <svg width="24" height="24" viewBox="0 0 24 24"><path d="M18,21.224V8.452a3.394,3.394,0,0,0,1.707-3.1,3.525,3.525,0,0,0-3.319-3.515A4.4,4.4,0,0,0,10.067.964,3.892,3.892,0,0,0,6.016,2.006,3.7,3.7,0,0,0,2.65,3.756a6.138,6.138,0,0,0-.623,2.929C1.963,8.532,0,8.552,0,10.957c0,2.019,1.542,3.559,4,2.8v7.466c0,.664-.336,1.2-1,1.2V24H19V22.427C18.335,22.427,18,21.888,18,21.224ZM1.588,10.74c.23-1.539,1.933-1.662,2.015-4,.063-1.792.22-3.414,3.193-3.126a2.317,2.317,0,0,1,3.6-.679,2.821,2.821,0,0,1,5.1.6,1.92,1.92,0,0,1,.689-.126,1.944,1.944,0,1,1-1.539,3.132,2.818,2.818,0,0,1-4.025-.366,2.312,2.312,0,0,1-3.329.2,1.706,1.706,0,0,0-1.08-.456c-1.389,0-2.289,2.391-1.779,4.53C5.1,13.249,1.271,12.854,1.588,10.74ZM6.009,12a5.139,5.139,0,0,0-.041-1.917,3.874,3.874,0,0,1,.009-1.8,2.19,2.19,0,0,1,.3-.709l.011.008A4.025,4.025,0,0,0,8.88,8.56a3.838,3.838,0,0,0,1.681-.388,4.4,4.4,0,0,0,3.954.277A3.106,3.106,0,0,0,16,8.868V12ZM19,19.42V17.26C22.154,15.43,22.9,11,20.485,11H19V9.005h1.845C22.99,9.005,24,10.539,24,12.457A7.851,7.851,0,0,1,19,19.42Z" transform="translate(0 0)" fill="#fff"/><rect width="9.989" height="9.965" transform="translate(6.011 11.998)" fill="#efd13c"/><circle cx="0.879" cy="0.879" r="0.879" transform="translate(9.44 18.11)" fill="#d8b627"/><circle cx="0.879" cy="0.879" r="0.879" transform="translate(7.852 13.674)" fill="#d8b627"/><circle cx="0.879" cy="0.879" r="0.879" transform="translate(12.319 15.222)" fill="#d8b627"/></svg>
        I'veUsed
        <svg width="27.882" height="23.899" viewBox="0 0 27.882 23.899"><g transform="translate(-234.118 -241)"><path d="M21.6,11.456A6.5,6.5,0,0,1,15.18,22.573Zm-11.9,8.409-.363.634a5,5,0,0,1-8.662-5l6.873-12a5,5,0,0,1,8.886,4.564,8.461,8.461,0,0,0-2.756.843l.8-1.407a3,3,0,1,0-5.2-3L5.9,10.436l3.978,2.3A8.516,8.516,0,0,0,9.7,19.865Zm3.75,1.714a6.5,6.5,0,0,1,6.427-11.132Z" transform="translate(238 240)" fill="#e9c1ff" fill-rule="evenodd"/><path d="M3.711,3.85l3.832,6.935a5,5,0,0,0,9.272-3.277,5.85,5.85,0,0,0-.93-2.325A8.749,8.749,0,0,1,13.3,4.391l1.17,2.394a3,3,0,1,1-5.2,3L5.9,3.85C3.02-1.144,2.331,1.46,3.711,3.85Z" transform="translate(243.948 243.592) rotate(59)" fill="#fff" fill-rule="evenodd"/><path d="M.686,9.436,4.518,2.5A5,5,0,0,1,13.4,7.065a8.461,8.461,0,0,0-2.756.843l.8-1.407a3,3,0,1,0-5.2-3L2.878,9.436C-.006,14.43-.694,11.826.686,9.436Z" transform="translate(241.025 241)" fill="#fff" fill-rule="evenodd"/></g></svg>
    </a>

    <Popup :active="popup" @close="popup = false;">
        <h2 class="h3">Add usage of substance</h2>

        <div class="add-substance__head">
            <a href="#" class="add-substance__arrow" @click.prevent="previousSubstance">
                <svg  width="12" height="12" viewBox="0 0 12 12"><path d="M6.9,3.451,6.3,2.841a.629.629,0,0,0-.908,0L.189,8.18a.669.669,0,0,0,0,.932L5.4,14.454a.629.629,0,0,0,.908,0l.595-.61a.672.672,0,0,0-.011-.943L3.66,9.746h7.7A.65.65,0,0,0,12,9.087V8.208a.65.65,0,0,0-.643-.659H3.66L6.887,4.394A.667.667,0,0,0,6.9,3.451Z" transform="translate(0 -2.647)" fill="#fff"/></svg>
            </a>

            <div class="add-substance__current btn" v-html="substanceOptions[substanceIndex].icon + ' ' + capitilize(substanceOptions[substanceIndex].type)"></div>

            <a href="#" class="add-substance__arrow add-substance__arrow--right" @click.prevent="nextSubstance">
                <svg  width="12" height="12" viewBox="0 0 12 12"><path d="M6.9,3.451,6.3,2.841a.629.629,0,0,0-.908,0L.189,8.18a.669.669,0,0,0,0,.932L5.4,14.454a.629.629,0,0,0,.908,0l.595-.61a.672.672,0,0,0-.011-.943L3.66,9.746h7.7A.65.65,0,0,0,12,9.087V8.208a.65.65,0,0,0-.643-.659H3.66L6.887,4.394A.667.667,0,0,0,6.9,3.451Z" transform="translate(0 -2.647)" fill="#fff"/></svg>
            </a>
        </div>

        <div class="add-substance__specications">
            <div class="add-substance__specication" v-for="(values, specification) in substanceOptions[substanceIndex].options">
                <TypeSelector ref="types" v-if="specification === 'types'" :values="values" @valueChange="(val) => specifications.type = val" />
                <Slider ref="amount" v-else-if="specification === 'amount'" :values="values" @valueChange="(val) => specifications.amount = parseFloat(val)" />
                <PresetSelector ref="alcohol" v-else-if="specification === 'alcohol'" :values="values" @valueChange="(val) => specifications.alcohol = parseFloat(val)" />
            </div>
        </div>

        <a href="#" class="add-substance__btn btn" @click.prevent="submitSubstance()">Add substance</a>
    </Popup>
</template>

<script>
import axios from "axios"
import Popup from "@/components/popup.vue"
import Slider from "@/components/slider.vue"
import TypeSelector from "@/components/type-selector.vue"
import PresetSelector from "@/components/preset-selector.vue"

export default {
    components: {
        Popup,
        Slider,
        TypeSelector,
        PresetSelector
    },
    methods: {
        // Function that capitilizes the name of the substance
        capitilize (text) {
            return text.charAt(0).toUpperCase() + text.slice(1);
        },
        previousSubstance () {
            let newIndex = this.substanceIndex - 1;
            if (newIndex === -1) newIndex= this.substanceOptions.length - 1;
            this.substanceIndex = newIndex;
        },
        nextSubstance () {
            let newIndex = this.substanceIndex + 1;
            if (newIndex === this.substanceOptions.length) newIndex= 0;
            this.substanceIndex = newIndex;
        },
        submitSubstance () {
            const type = this.substanceOptions[this.substanceIndex].type;
            var currentdate = new Date();

            const data = {
                type: type,
                date: String(currentdate.getDate()).padStart(2, '0') + "-" + String((currentdate.getMonth() + 1)).padStart(2, '0') + "-" + currentdate.getFullYear(),
                time: String(currentdate.getHours()).padStart(2, '0') + ":" +  String(currentdate.getMinutes()).padStart(2, '0'),
                username: "ruben",
                alc: this.specifications.alcohol,
                weed: this.specifications.type,
                amount: (type == "beer" || type == "wine" || type =="shot") ? this.specifications.amount * 10 : this.specifications.amount
            };
            
            // Get used substances from database
            axios.post("http://127.0.0.1:3000/add-substance/", data).then(location.reload()).catch((error) => {
                console.error(error);
            });
        }
    },
    data () {
        return {
            specifications: {
                type: "",
                amount: 0,
                alcohol: 0
            },
            popup: false,
            substanceOptions: [
                {
                    type: "beer",
                    icon: '<svg width="32" height="32" viewBox="0 0 32 32"><path d="M24,28.3V11.269a4.525,4.525,0,0,0,2.276-4.139,4.7,4.7,0,0,0-4.425-4.687,5.865,5.865,0,0,0-8.428-1.159,5.189,5.189,0,0,0-5.4,1.389A4.938,4.938,0,0,0,3.533,5.008,8.183,8.183,0,0,0,2.7,8.913C2.617,11.376,0,11.4,0,14.609c0,2.692,2.056,4.745,5.333,3.736V28.3c0,.885-.448,1.6-1.333,1.6V32H25.333V29.9C24.447,29.9,24,29.184,24,28.3ZM2.117,14.32C2.424,12.268,4.695,12.1,4.8,8.987,4.888,6.6,5.1,4.435,9.061,4.819a3.09,3.09,0,0,1,4.807-.905,3.761,3.761,0,0,1,6.8.795,2.56,2.56,0,0,1,.919-.168,2.592,2.592,0,1,1-2.052,4.176,3.757,3.757,0,0,1-5.367-.488A3.082,3.082,0,0,1,9.725,8.5a2.275,2.275,0,0,0-1.44-.608c-1.852,0-3.052,3.188-2.372,6.04C6.8,17.665,1.695,17.139,2.117,14.32ZM8.012,16a6.851,6.851,0,0,0-.055-2.556,5.165,5.165,0,0,1,.012-2.4,2.92,2.92,0,0,1,.4-.945l.015.011a5.367,5.367,0,0,0,3.459,1.3,5.118,5.118,0,0,0,2.241-.517,5.863,5.863,0,0,0,5.272.369,4.141,4.141,0,0,0,1.98.559V16Zm17.321,9.893v-2.88c4.205-2.44,5.2-8.347,1.98-8.347h-1.98v-2.66h2.46c2.86,0,4.207,2.045,4.207,4.6A10.468,10.468,0,0,1,25.333,25.893Z" transform="translate(0 0)" fill="#fff"/><rect width="13.319" height="13.286" transform="translate(8.014 15.997)" fill="#efd13c"/><circle cx="1.172" cy="1.172" r="1.172" transform="translate(12.587 24.147)" fill="#d8b627"/><circle cx="1.172" cy="1.172" r="1.172" transform="translate(10.469 18.232)" fill="#d8b627"/><circle cx="1.172" cy="1.172" r="1.172" transform="translate(16.425 20.296)" fill="#d8b627"/></svg>',
                    options: {
                        amount: {
                            min: 15,
                            max: 100,
                            measure: 'cl'
                        },
                        alcohol: [4.2, 5, 6, 7, 8, 10, 12, 15]
                    }
                },
                {
                    type: "wine",
                    icon: '<svg xmlns="http://www.w3.org/2000/svg" width="16" height="32" viewBox="0 0 16 32"><g transform="translate(-1011.066 -672.175)"><path d="M1014.027,704.175h9.986s.895-.071.188-1.037c-1.137-.695-3.9-2.265-3.9-2.265V687.765s6.77-2.164,6.77-14.939c0-.645-.721-.645-.721-.645h-14.436s-.843-.136-.843.9.948,13.1,6.691,14.649v13.2l-3.9,2.329S1013.243,703.847,1014.027,704.175Z" fill="#fff"/><g transform="translate(1012.983 672.182)"><path d="M1053.091,672.277s.467,13.723-5.6,13.723-6.29-13.723-6.29-13.723Z" transform="translate(-1041.201 -672.277)" fill="#fff"/><path d="M1053.924,777.932c.8,3.515,2.37,7.121,5.48,7.121a4.16,4.16,0,0,0,3.637-2.486c.186-.348.354-.7.505-1.056a17.685,17.685,0,0,0,.981-3.579Z" transform="translate(-1053.115 -771.33)" fill="#bf34a2"/><ellipse cx="0.532" cy="0.523" rx="0.532" ry="0.523" transform="translate(3.078 7.937)" fill="#f5a8ca"/><ellipse cx="0.532" cy="0.523" rx="0.532" ry="0.523" transform="translate(5.027 8.46)" fill="#f5a8ca"/><ellipse cx="0.532" cy="0.523" rx="0.532" ry="0.523" transform="translate(3.611 9.772)" fill="#f5a8ca"/></g></g></svg>',
                    options: {
                        amount: {
                            min: 0,
                            max: 100,
                            measure: 'cl'
                        },
                        alcohol: [5, 6, 8, 12, 18, 20, 23]
                    }
                },
                {
                    type: "shot",
                    icon: '<svg xmlns="http://www.w3.org/2000/svg" width="20.007" height="24.623" viewBox="0 0 20.007 24.623"><g transform="translate(-926.865 239.554)"><path d="M963.273-174.3H947.261c1.2,7.25.807,14.688,8.276,14.688C955.537-159.612,963.273-159.612,963.273-174.3Z" transform="translate(-18.396 -59.126)" fill="#e52e49"/><path d="M936.859-239.553h9.146a.78.78,0,0,1,.828,1.061c-.038.156-.08.31-.12.465a70.085,70.085,0,0,0-1.655,8.332,67.424,67.424,0,0,0-.486,8.609c0,1.25,0,2.5,0,3.751a2.308,2.308,0,0,1-2.409,2.4q-5.3,0-10.59,0a2.315,2.315,0,0,1-2.407-2.41c-.011-2.083,0-4.167-.046-6.25a59.2,59.2,0,0,0-1.9-13.7c-.106-.41-.215-.82-.318-1.232a.77.77,0,0,1,.813-1.031h9.146Zm-8.224,1.546c.014.068.023.114.033.16.294,1.3.653,2.6.871,3.911q.757,4.56,1.4,9.138a5.962,5.962,0,0,0,6.592,5.208,5.887,5.887,0,0,0,5.212-4.9c.308-1.977.582-3.96.865-5.941a64.953,64.953,0,0,1,1.33-6.88c.058-.227.112-.456.17-.7Zm2.073,16.806v.228q0,1.826,0,3.652a.775.775,0,0,0,.853.849H942.17a.779.779,0,0,0,.861-.865q0-1.814,0-3.628v-.237a7.382,7.382,0,0,1-6.146,3.179A7.394,7.394,0,0,1,930.708-221.2Z" transform="translate(0 0)" fill="#fff"/><circle cx="0.821" cy="0.821" r="0.821" transform="translate(932.591 -231.013)" fill="#ea6887"/><circle cx="0.821" cy="0.821" r="0.821" transform="translate(935.542 -230.208)" fill="#ea6887"/><circle cx="0.821" cy="0.821" r="0.821" transform="translate(933.397 -228.187)" fill="#ea6887"/></g></svg>',
                    options: {
                        amount: {
                            min: 0,
                            max: 100,
                            measure: 'cl'
                        },
                        alcohol: [5, 12, 15, 25, 32, 40, 50, 80]
                    }
                },
                {
                    type: "weed",
                    icon: '<svg xmlns="http://www.w3.org/2000/svg" width="29" height="32" viewBox="0 0 29 32"><g transform="translate(-141 -173)"><path d="M51.64,18.7a19.49,19.49,0,0,0-7.979,1.413,23.181,23.181,0,0,0,2.132-2.92A26.439,26.439,0,0,0,49.369,6.027a26.322,26.322,0,0,0-8.309,8.248,22.637,22.637,0,0,0-1.255,2.371,25.385,25.385,0,0,0,.366-4.208A28.86,28.86,0,0,0,37.139,0a28.869,28.869,0,0,0-3.031,12.438,25.4,25.4,0,0,0,.366,4.207,22.839,22.839,0,0,0-1.255-2.37,26.318,26.318,0,0,0-8.309-8.248,26.442,26.442,0,0,0,3.576,11.165,23.149,23.149,0,0,0,2.132,2.92A19.493,19.493,0,0,0,22.64,18.7a18.115,18.115,0,0,0,6.407,4.732A18.1,18.1,0,0,0,33.4,24.639a11.792,11.792,0,0,0-1.946.3,12.779,12.779,0,0,0-4.913,2.491,13.391,13.391,0,0,0,5.587-.087,12.791,12.791,0,0,0,4.2-1.949l-.692,5.559a.979.979,0,0,0,.2.73.818.818,0,0,0,.636.315H37.8a.818.818,0,0,0,.636-.315.98.98,0,0,0,.2-.73L37.949,25.4a12.792,12.792,0,0,0,4.2,1.949,13.392,13.392,0,0,0,5.587.087,12.78,12.78,0,0,0-4.913-2.491,11.8,11.8,0,0,0-1.947-.3,18.094,18.094,0,0,0,4.354-1.209A18.114,18.114,0,0,0,51.64,18.7Z" transform="translate(118.36 173)" fill="#3a711d"/><path d="M37.14,9.349a9.745,9.745,0,0,0-3.99.706A11.59,11.59,0,0,0,34.216,8.6,13.219,13.219,0,0,0,36,3.013,13.161,13.161,0,0,0,31.85,7.137a11.318,11.318,0,0,0-.627,1.185,12.692,12.692,0,0,0,.183-2.1A14.43,14.43,0,0,0,29.89,0a14.434,14.434,0,0,0-1.516,6.219,12.7,12.7,0,0,0,.183,2.1,11.419,11.419,0,0,0-.628-1.185,13.159,13.159,0,0,0-4.154-4.124A13.221,13.221,0,0,0,25.564,8.6a11.574,11.574,0,0,0,1.066,1.46,9.746,9.746,0,0,0-3.99-.707,9.057,9.057,0,0,0,3.2,2.366,9.048,9.048,0,0,0,2.177.6,5.9,5.9,0,0,0-.973.151,6.389,6.389,0,0,0-2.457,1.246,6.7,6.7,0,0,0,2.793-.043,6.4,6.4,0,0,0,2.1-.975l-.346,2.779a.49.49,0,0,0,.1.365.409.409,0,0,0,.318.158h.663a.409.409,0,0,0,.318-.158.49.49,0,0,0,.1-.365L30.295,12.7a6.4,6.4,0,0,0,2.1.975,6.7,6.7,0,0,0,2.793.043,6.39,6.39,0,0,0-2.456-1.246,5.9,5.9,0,0,0-.973-.151,9.047,9.047,0,0,0,2.177-.6A9.057,9.057,0,0,0,37.14,9.349Z" transform="translate(125.61 184)" fill="#7fb972"/></g></svg>',
                    options: {
                        types: ["Sativa", "Indica", "Mix", "Carmello", "Ruderalis"],
                        amount: {
                            min: 0.5,
                            max: 5,
                            measure: 'Gram'
                        }
                    }
                },
                {
                    type: "xtc",
                    icon: '<svg xmlns="http://www.w3.org/2000/svg" width="28" height="23.899" viewBox="0 0 28 23.899"><g transform="translate(-136 -178)"><path d="M21.6,11.456A6.5,6.5,0,0,1,15.18,22.573Zm-11.9,8.409-.363.634a5,5,0,0,1-8.662-5l6.873-12a5,5,0,0,1,8.886,4.564,8.461,8.461,0,0,0-2.756.843l.8-1.407a3,3,0,1,0-5.2-3L5.9,10.436l3.978,2.3A8.516,8.516,0,0,0,9.7,19.865Zm3.75,1.714a6.5,6.5,0,0,1,6.427-11.132Z" transform="translate(140 177)" fill="#e9c1ff" fill-rule="evenodd"/><path d="M3.711,3.85l3.832,6.935a5,5,0,0,0,9.272-3.277,5.85,5.85,0,0,0-.93-2.325A8.749,8.749,0,0,1,13.3,4.391l1.17,2.394a3,3,0,1,1-5.2,3L5.9,3.85C3.02-1.144,2.331,1.46,3.711,3.85Z" transform="translate(145.83 180.592) rotate(59)" fill="#fff" fill-rule="evenodd"/><path d="M.686,9.436,4.518,2.5A5,5,0,0,1,13.4,7.065a8.461,8.461,0,0,0-2.756.843l.8-1.407a3,3,0,1,0-5.2-3L2.878,9.436C-.006,14.43-.694,11.826.686,9.436Z" transform="translate(142.907 178)" fill="#fff" fill-rule="evenodd"/></g></svg>',
                    options: {
                        amount: {
                            min: 0,
                            max: 160,
                            measure: 'Milligram'
                        }
                    }
                },
                {
                    type: "shrooms",
                    icon: '<svg xmlns="http://www.w3.org/2000/svg" width="28.838" height="28" viewBox="0 0 28.838 28"><g transform="translate(-115.581 -175)"><ellipse cx="5.256" cy="8.375" rx="5.256" ry="8.375" transform="translate(121.5 202.989) rotate(-90)" fill="#fcf6da"/><ellipse cx="2.5" cy="5.5" rx="2.5" ry="5.5" transform="translate(118.613 180.524) rotate(16)" fill="#fff"/><ellipse cx="2.5" cy="5.5" rx="2.5" ry="5.5" transform="matrix(0.961, -0.276, 0.276, 0.961, 136.581, 181.902)" fill="#fff"/><circle cx="7" cy="7" r="7" transform="translate(123 177)" fill="#fff"/><path d="M25.142,7.656c-.737.171-.78,2.536-.146,5.294s1.705,4.864,2.442,4.693,1.2-2.216.566-4.973-2.125-5.185-2.862-5.014ZM2.742,21.375C1.428,19.8,1,17.609,1,14.872A13.683,13.683,0,0,1,5.6,4.547,13.832,13.832,0,0,1,15,1c4.218,0,7.451,1.3,10.018,4.307C27.156,7.81,29,11.295,29,14.872c0,2.6-.42,4.576-1.618,6.127A9.723,9.723,0,0,1,23.4,23.925c-.02,1.5-.207,3.133-1.867,4.075-1.453.824-4.682,1-6.729,1-2.663,0-5.325.041-6.854-1.25a5.742,5.742,0,0,1-1.478-3.767,9.414,9.414,0,0,1-3.727-2.608Zm12.2-4.875a6.75,6.75,0,1,0-6.72-6.75A6.735,6.735,0,0,0,14.937,16.5Zm-12.41.8c.73.2,1.874-1.871,2.6-4.6s.768-5.1.038-5.3-2.1,1.39-2.824,4.124-.547,5.58.183,5.776Zm5.815,9.534c1.339.883,3.91,1.038,6.347,1.038,2.7,0,5.7-.01,7.093-1.186.822-.693.871-2.643.871-3.539a2.221,2.221,0,0,0-.373-1.276,7.316,7.316,0,0,0-2.613-1.625A9.664,9.664,0,0,0,15,19.5a13.694,13.694,0,0,0-5.04.75c-1.16.443-2.571,1.132-2.987,1.875-.156.279,0,.679,0,1.026,0,1.045.347,3.013,1.369,3.687Zm3.609-1.212c-.412,0-.747-.418-.747-2.5s.334-2.5.747-2.5.747.418.747,2.5S12.363,25.625,11.951,25.625Zm5.973,0c-.412,0-.747-.418-.747-2.5s.334-2.5.747-2.5.747.418.747,2.5S18.336,25.625,17.924,25.625Z" transform="translate(115.001 174)" fill="#de4343"/></g></svg>',
                    options: {
                        amount: {
                            min: 0,
                            max: 100,
                            measure: 'Gram'
                        }
                    }
                },
                {
                    type: "cocaine",
                    icon: '<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="24" viewBox="0 0 32 24"><defs><clipPath id="a"><rect width="32" height="24" fill="#fff"/></clipPath></defs><g clip-path="url(#a)"><path d="M4.6,17.127c-.468.092-.9.173-1.326.261a.555.555,0,0,1-.713-.416q-1.233-3.36-2.49-6.71a.6.6,0,0,1,.3-.853c.46-.263.9-.56,1.394-.868-.148-.4-.3-.806-.444-1.209-.2-.548-.139-.7.371-.9Q9.747,3.261,17.8.09c.453-.178.6-.11.776.351.119.308.253.612.341.929.082.3.218.374.509.3.455-.113.922-.173,1.38-.272a.458.458,0,0,1,.587.331q1.287,3.46,2.574,6.92a.5.5,0,0,1-.258.677c-.4.248-.8.505-1.206.746a.347.347,0,0,0-.175.473,2.3,2.3,0,0,0,1.655,1.795,2.811,2.811,0,0,1,2,2.6.739.739,0,0,0,.41.627,4.029,4.029,0,0,1,1.779,2.111,1.334,1.334,0,0,0,.359.389c.04.038.112.037.162.067.805.477,1.643.9,2.405,1.445,1.273.9,1.188,1.923-.181,2.644a11.482,11.482,0,0,1-3.664,1.052,74.09,74.09,0,0,1-14.535.622,36.582,36.582,0,0,1-8.359-1.084,8.024,8.024,0,0,1-2.015-.861,1.335,1.335,0,0,1,.037-2.427,3,3,0,0,0,1.567-1.582,3.567,3.567,0,0,1,.653-.822m11.389,6.112L16,23.114a60.825,60.825,0,0,0,10.881-.658,23.476,23.476,0,0,0,3.639-.977c.819-.282.816-.618.132-1.175-.717-.585-1.689-.714-2.357-1.391a.451.451,0,0,0-.248-.077.65.65,0,0,1-.587-.566,2.909,2.909,0,0,0-1.626-2.023,1,1,0,0,1-.641-.953,2.2,2.2,0,0,0-1.553-2.174,2.817,2.817,0,0,1-2.071-2.225A2.176,2.176,0,0,0,20.34,9.271a3.175,3.175,0,0,0-3.264.3,4.831,4.831,0,0,0-1.662,2.287.733.733,0,0,1-.714.545,1.874,1.874,0,0,0-.346.057,4.777,4.777,0,0,0-3.425,2.968c-.125.3-.252.532-.627.5a2.853,2.853,0,0,0-2.517,1.127.668.668,0,0,1-.721.274,2.448,2.448,0,0,0-2.783,1.965.951.951,0,0,1-.448.478c-.364.217-.788.336-1.131.58a.491.491,0,0,0,.031.883,2.608,2.608,0,0,0,.821.42,34.951,34.951,0,0,0,4.322.962c2.694.3,5.407.425,8.113.622M7.874,9.775a1.222,1.222,0,0,0-1.263.849.717.717,0,0,1-.495.5q-1.4.532-2.789,1.093c-.418.168-.6.49-.484.787s.45.391.879.242c.069-.024.138-.051.206-.078.875-.344,1.745-.7,2.628-1.022a.839.839,0,0,1,.6.043A1.174,1.174,0,0,0,8.819,11.7a1.373,1.373,0,0,1,1.005-.854c.375-.127.732-.311,1.11-.426a.74.74,0,0,1,.513.044A1.26,1.26,0,0,0,13.3,9.722a.675.675,0,0,1,.32-.359Q14.448,9,15.3,8.7a.984.984,0,0,1,.472.053c.239.05.565.246.694.151.414-.305,1.085-.318,1.19-1.023.015-.1.207-.191.334-.243.857-.349,1.72-.684,2.579-1.028.135-.054.316-.1.376-.211a.945.945,0,0,0,.163-.631c-.05-.147-.332-.259-.526-.293a1.07,1.07,0,0,0-.5.14c-.821.321-1.635.66-2.462.963a.759.759,0,0,1-.554-.034,1.248,1.248,0,0,0-1.846.753.7.7,0,0,1-.332.359c-.537.238-1.084.456-1.64.645a.712.712,0,0,1-.509-.053,1.154,1.154,0,0,0-1.694.471c-.194.56-.584.69-1.013.858-.273.108-.555.2-.82.322-.329.155-.633.265-.965-.014a.84.84,0,0,0-.373-.111" transform="translate(0 0)" fill="#fff"/></g></svg>',
                    options: {
                        amount: {
                            min: 0,
                            max: 100,
                            measure: 'mg'
                        }
                    }
                }
            ],
            substanceIndex: 0
        }
    }
}
</script>

<style lang="sass">
.home
    &__add-btn
        margin-top: 3rem
        font-weight: 700
        font-size: 1.8rem
        align-items: center
        align-self: stretch
        padding: 1.5rem 2.5rem

        svg
            &:first-child
                margin-right: 1.5rem

            &:last-child
                margin-left: 1.5rem

.add-substance
    &__head
        display: flex
        align-items: center
        justify-content: space-between

    &__arrow
        padding: 1.5rem
        background-color: $color-grey
        border-radius: calc($border-radius / 2)

        svg
            display: block

        &--right svg
            rotate: 180deg

    &__current 
        display: flex
        align-items: center
        justify-content: center

        svg
            margin-right: 1.5rem

    &__specication
        margin-bottom: 2rem

        &s
            margin-top: 1.5rem

            label
                display: block
                font-weight: 500
                margin-bottom: 1.5rem

    &__btn
        margin-top: 2.5rem
</style>